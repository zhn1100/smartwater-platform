import{r as g,m as Ne,a as A,n as Ye,p as je,q as Pe,H as Ge,s as He,c as F,b as l,d as t,e as u,x as M,w as s,v as O,A as Ke,I as Je,t as N,J as ue,E as V,u as We,o as z,j as i,F as ee,C as te,K as Qe,L as Xe,G as Ze}from"./index-BFskq1dL.js";import{g as et,a as me,i as pe,c as ce,L as tt,d as lt,e as st,u as at,b as nt}from"./monitoring_new-Hx-TjLSB.js";import{_ as rt}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ot={class:"admin-container"},it={class:"admin-header"},dt={class:"header-right"},ut={class:"user-info"},mt={class:"user-details"},pt={class:"username"},ct={class:"admin-content"},vt={class:"admin-sidebar"},ft={class:"admin-main"},_t={key:0,class:"dashboard-panel"},gt={class:"stats-grid"},yt={class:"stat-content"},bt={class:"stat-details"},wt={class:"stat-value"},ht={class:"stat-content"},Ct={class:"stat-details"},Vt={class:"stat-value"},zt={class:"stat-content"},kt={class:"stat-details"},xt={class:"stat-value"},Ut={class:"stat-content"},$t={class:"stat-details"},Mt={class:"stat-value"},St={class:"charts-row"},Ft={class:"chart-card"},Dt={class:"chart-card"},It={class:"chart-header"},At={class:"chart-title-controls"},Et={class:"chart-filters"},Lt={key:1,class:"measurements-panel"},qt={class:"panel-header"},Rt={class:"panel-controls"},Tt={class:"filter-bar"},Bt={class:"pagination"},Ot={key:2,class:"instruments-panel"},Nt={class:"panel-header"},Yt={class:"panel-controls"},jt={key:3,class:"users-panel"},Pt={class:"panel-header"},Gt={class:"panel-controls"},Ht={__name:"AdminPanel",setup(Kt){const le=We(),D=g({}),ve=Ne(()=>`https://api.dicebear.com/7.x/avataaars/svg?seed=${D.value.username||"admin"}`),S=g("dashboard"),E=g({totalMeasurements:0,instrumentCount:0,userCount:0,lastUpdate:"--"}),se=g([]),Y=g([]),j=g([]),P=g(!1),b=A({type_id:null,instrument_id:null}),_=A({current:1,size:50,total:0}),ae=g([]),w=A({visible:!1,title:"新增用户",loading:!1,mode:"add",editingId:null}),c=A({username:"",password:"",name:"",email:"",role:"user"}),fe={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}]},G=g(),U=g("2024"),H=g("all"),m=A({visible:!1,title:"新增测量记录",loading:!1,mode:"add",editingId:null});Ye([U,H],()=>{ne()});const d=A({type_id:null,instrument_id:"",measure_time:"",value:0,water_level:null}),_e={type_id:[{required:!0,message:"请选择监测类型",trigger:"change"}],instrument_id:[{required:!0,message:"请输入仪器编号",trigger:"blur"}],measure_time:[{required:!0,message:"请选择测量时间",trigger:"change"}],value:[{required:!0,message:"请输入测量值",trigger:"blur"}]},K=g(),R=g(null),T=g(null);let x=null,k=null;const ge=n=>{S.value=n,n==="dashboard"?J():n==="measurements"?($(),he(),W()):n==="instruments"?W():n==="users"&&B()},ye=()=>{le.push("/monitor")},be=async()=>{try{await Ze(),le.push("/login")}catch(n){console.error("登出失败:",n)}},J=async()=>{try{const[n,e,r]=await Promise.all([et(),me(),ue()]);E.value={totalMeasurements:n.total_measurements||0,instrumentCount:n.instrument_count||0,userCount:r.length||0,lastUpdate:new Date().toLocaleTimeString("zh-CN")},we(n.type_statistics||[]),await ne()}catch(n){console.error("加载仪表板数据失败:",n),V.error("加载数据失败")}},we=n=>{if(!R.value)return;x&&x.dispose(),x=pe(R.value);const e=n.map(r=>({name:r.name,value:r.count}));x.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{orient:"vertical",right:10,top:"center",data:e.map(r=>r.name)},series:[{name:"监测类型",type:"pie",radius:["40%","70%"],center:["35%","50%"],itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},data:e}]})},ne=async()=>{if(T.value){k&&k.dispose(),k=pe(T.value);try{const n={limit:1e4};if(H.value!=="all"&&(n.type_id=H.value),U.value!=="all"){const p=U.value;n.start_time=`${p}-01-01 00:00:00`,n.end_time=`${p}-12-31 23:59:59`}const e=await ce(n),r={};for(let p=1;p<=12;p++){const C=`${String(p).padStart(2,"0")}`;r[C]=0}e.forEach(p=>{const C=new Date(p.measure_time),v=String(C.getMonth()+1).padStart(2,"0");r[v]=(r[v]||0)+1});const o=[],h=[];for(let p=1;p<=12;p++){const C=`${String(p).padStart(2,"0")}`;o.push(`${p}月`),h.push(r[C])}const I=`采集数据量${U.value!=="all"?` (${U.value})`:""}`;k.setOption({title:{text:I,left:"center",textStyle:{fontSize:14}},tooltip:{trigger:"axis",formatter:function(p){const C=p[0].axisValue,v=p[0].data;return`${C}<br/>数据量: ${v} 条`}},xAxis:{type:"category",data:o,axisLabel:{rotate:45}},yAxis:{type:"value",name:"数据量 (条)"},series:[{name:"数据量",type:"line",data:h,smooth:!0,itemStyle:{color:"#5B8FF9"},areaStyle:{color:new tt(0,0,0,1,[{offset:0,color:"rgba(91, 143, 249, 0.6)"},{offset:1,color:"rgba(91, 143, 249, 0.1)"}])}}],grid:{left:"3%",right:"4%",bottom:"15%",top:"15%",containLabel:!0}})}catch(n){console.error("渲染增长图表失败:",n),k.setOption({title:{text:`采集数据量${U.value!=="all"?` (${U.value})`:""}`,left:"center"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{name:"数据量",type:"line",data:[],itemStyle:{color:"#5B8FF9"}}]})}}},$=async()=>{P.value=!0;try{const n={limit:_.size,offset:(_.current-1)*_.size};b.type_id&&(n.type_id=b.type_id),b.instrument_id&&(n.instrument_id=b.instrument_id);const e=await ce(n);se.value=e,_.total=1e3}catch(n){console.error("加载测量数据失败:",n),V.error("加载数据失败")}finally{P.value=!1}},he=async()=>{try{Y.value=await me()}catch(n){console.error("加载监测类型失败:",n)}},W=async()=>{try{j.value=await nt()}catch(n){console.error("加载仪器列表失败:",n)}},B=async()=>{try{ae.value=await ue()}catch(n){console.error("加载用户列表失败:",n)}},Ce=()=>{$()},Ve=()=>{W()},ze=()=>{_.current=1,$()},ke=()=>{b.type_id=null,b.instrument_id=null,_.current=1,$()},xe=n=>{_.size=n,_.current=1,$()},Ue=n=>{_.current=n,$()},$e=()=>{m.mode="add",m.title="新增测量记录",m.editingId=null,Object.assign(d,{type_id:null,instrument_id:"",measure_time:"",value:0,water_level:null}),m.visible=!0},Me=n=>{m.mode="edit",m.title="编辑测量记录",m.editingId=n.id,Object.assign(d,{type_id:n.type_id,instrument_id:n.instrument_id,measure_time:n.measure_time,value:n.value,water_level:n.water_level}),m.visible=!0},Se=async()=>{var n,e;if(K.value)try{await K.value.validate(),m.loading=!0;const r={type_id:d.type_id,instrument_id:d.instrument_id,measure_time:d.measure_time,value:d.value};d.water_level!==null&&(r.water_level=d.water_level),m.mode==="add"?(await st(r),V.success("新增成功")):(await at(m.editingId,r),V.success("更新成功")),m.visible=!1,$()}catch(r){console.error("保存测量记录失败:",r),(e=(n=r.response)==null?void 0:n.data)!=null&&e.message?V.error(`保存失败: ${r.response.data.message}`):V.error("保存失败")}finally{m.loading=!1}},Fe=async n=>{try{await lt(n),V.success("删除成功"),$()}catch(e){console.error("删除测量记录失败:",e),V.error("删除失败")}},De=n=>{S.value="measurements",b.instrument_id=n.instrument_id,b.type_id=n.type_id,$()},Ie=()=>{x&&R.value&&x.resize(),k&&T.value&&k.resize()};je(async()=>{try{D.value=await Pe()}catch(n){console.error("加载用户信息失败:",n);const e=localStorage.getItem("user_info");if(e)try{D.value=JSON.parse(e)}catch{D.value={username:"管理员",role:"admin"}}}J(),window.addEventListener("resize",re)}),Ge(()=>{Ie(),S.value==="dashboard"&&J()});const re=()=>{x&&x.resize(),k&&k.resize()},Ae=()=>{B()},Ee=()=>{w.mode="add",w.title="新增用户",w.editingId=null,Object.assign(c,{username:"",password:"",name:"",email:"",role:"user"}),w.visible=!0},Le=async()=>{if(G.value)try{await G.value.validate(),w.loading=!0;const n={username:c.username,password:c.password,name:c.name,email:c.email,role:c.role};await Xe(n),V.success("用户创建成功"),w.visible=!1,B()}catch(n){console.error("保存用户失败:",n),V.error(`保存失败: ${n.message}`)}finally{w.loading=!1}},qe=async n=>{try{await Qe(n),V.success("用户删除成功"),B()}catch(e){console.error("删除用户失败:",e),V.error(`删除失败: ${e.message}`)}};return He(()=>{window.removeEventListener("resize",re),x&&x.dispose(),k&&k.dispose()}),(n,e)=>{const r=u("el-avatar"),o=u("el-button"),h=u("el-icon"),I=u("el-menu-item"),p=u("el-menu"),C=u("dv-border-box-8"),v=u("el-option"),L=u("el-select"),y=u("el-form-item"),Q=u("el-form"),f=u("el-table-column"),oe=u("el-popconfirm"),X=u("el-table"),Re=u("el-pagination"),Te=u("el-tag"),q=u("el-input"),Be=u("el-date-picker"),ie=u("el-input-number"),de=u("el-dialog"),Oe=Je("loading");return z(),F("div",ot,[l("div",it,[e[22]||(e[22]=l("div",{class:"header-left"},[l("h1",null,"后台管理系统"),l("p",{class:"subtitle"},"管理员专用 · 数据管理 · 系统配置")],-1)),l("div",dt,[l("div",ut,[t(r,{size:36,src:ve.value},null,8,["src"]),l("div",mt,[l("div",pt,M(D.value.name||D.value.username),1),e[19]||(e[19]=l("div",{class:"user-role"},"管理员",-1))]),t(o,{type:"primary",size:"small",onClick:ye},{default:s(()=>[...e[20]||(e[20]=[i("返回监控",-1)])]),_:1}),t(o,{size:"small",onClick:be},{default:s(()=>[...e[21]||(e[21]=[i("退出",-1)])]),_:1})])])]),l("div",ct,[l("div",vt,[t(p,{"default-active":S.value,class:"admin-menu",onSelect:ge},{default:s(()=>[t(I,{index:"dashboard"},{default:s(()=>[t(h,null,{default:s(()=>[...e[23]||(e[23]=[l("i",{class:"el-icon-data-board"},null,-1)])]),_:1}),e[24]||(e[24]=l("span",null,"数据概览",-1))]),_:1}),t(I,{index:"measurements"},{default:s(()=>[t(h,null,{default:s(()=>[...e[25]||(e[25]=[l("i",{class:"el-icon-s-data"},null,-1)])]),_:1}),e[26]||(e[26]=l("span",null,"测量数据管理",-1))]),_:1}),t(I,{index:"instruments"},{default:s(()=>[t(h,null,{default:s(()=>[...e[27]||(e[27]=[l("i",{class:"el-icon-monitor"},null,-1)])]),_:1}),e[28]||(e[28]=l("span",null,"仪器管理",-1))]),_:1}),t(I,{index:"users"},{default:s(()=>[t(h,null,{default:s(()=>[...e[29]||(e[29]=[l("i",{class:"el-icon-user"},null,-1)])]),_:1}),e[30]||(e[30]=l("span",null,"用户管理",-1))]),_:1})]),_:1},8,["default-active"])]),l("div",ft,[S.value==="dashboard"?(z(),F("div",_t,[l("div",gt,[t(C,{class:"stat-card"},{default:s(()=>{var a;return[l("div",yt,[e[32]||(e[32]=l("div",{class:"stat-icon",style:{color:"#5B8FF9"}},[l("i",{class:"el-icon-data-line"})],-1)),l("div",bt,[l("div",wt,M(((a=E.value.totalMeasurements)==null?void 0:a.toLocaleString())||"0"),1),e[31]||(e[31]=l("div",{class:"stat-label"},"总测量记录",-1))])])]}),_:1}),t(C,{class:"stat-card"},{default:s(()=>[l("div",ht,[e[34]||(e[34]=l("div",{class:"stat-icon",style:{color:"#5AD8A6"}},[l("i",{class:"el-icon-monitor"})],-1)),l("div",Ct,[l("div",Vt,M(E.value.instrumentCount||"0"),1),e[33]||(e[33]=l("div",{class:"stat-label"},"监测仪器",-1))])])]),_:1}),t(C,{class:"stat-card"},{default:s(()=>[l("div",zt,[e[36]||(e[36]=l("div",{class:"stat-icon",style:{color:"#F6BD16"}},[l("i",{class:"el-icon-user"})],-1)),l("div",kt,[l("div",xt,M(E.value.userCount||"0"),1),e[35]||(e[35]=l("div",{class:"stat-label"},"系统用户",-1))])])]),_:1}),t(C,{class:"stat-card"},{default:s(()=>[l("div",Ut,[e[38]||(e[38]=l("div",{class:"stat-icon",style:{color:"#6F5EF9"}},[l("i",{class:"el-icon-alarm-clock"})],-1)),l("div",$t,[l("div",Mt,M(E.value.lastUpdate||"--"),1),e[37]||(e[37]=l("div",{class:"stat-label"},"最后更新",-1))])])]),_:1})]),l("div",St,[l("div",Ft,[e[39]||(e[39]=l("div",{class:"chart-header"},[l("h3",null,"监测类型分布")],-1)),l("div",{ref_key:"typeChartEl",ref:R,class:"chart-container"},null,512)]),l("div",Dt,[l("div",It,[l("div",At,[e[40]||(e[40]=l("h3",null,"采集数据量",-1)),l("div",Et,[t(L,{modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=a=>U.value=a),placeholder:"年份",size:"small",style:{width:"100px"}},{default:s(()=>[t(v,{label:"2018",value:"2018"}),t(v,{label:"2019",value:"2019"}),t(v,{label:"2020",value:"2020"}),t(v,{label:"2021",value:"2021"}),t(v,{label:"2022",value:"2022"}),t(v,{label:"2023",value:"2023"}),t(v,{label:"2024",value:"2024"})]),_:1},8,["modelValue"])])])]),l("div",{ref_key:"growthChartEl",ref:T,class:"chart-container"},null,512)])])])):O("",!0),S.value==="measurements"?(z(),F("div",Lt,[l("div",qt,[e[45]||(e[45]=l("h2",null,"测量数据管理",-1)),l("div",Rt,[t(o,{type:"primary",size:"small",onClick:$e},{default:s(()=>[t(h,null,{default:s(()=>[...e[41]||(e[41]=[l("i",{class:"el-icon-plus"},null,-1)])]),_:1}),e[42]||(e[42]=i(" 新增记录 ",-1))]),_:1}),t(o,{size:"small",onClick:Ce},{default:s(()=>[t(h,null,{default:s(()=>[...e[43]||(e[43]=[l("i",{class:"el-icon-refresh"},null,-1)])]),_:1}),e[44]||(e[44]=i(" 刷新 ",-1))]),_:1})])]),l("div",Tt,[t(Q,{inline:!0,size:"small"},{default:s(()=>[t(y,{label:"监测类型"},{default:s(()=>[t(L,{modelValue:b.type_id,"onUpdate:modelValue":e[1]||(e[1]=a=>b.type_id=a),placeholder:"全部类型",clearable:""},{default:s(()=>[(z(!0),F(ee,null,te(Y.value,a=>(z(),N(v,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(y,{label:"仪器编号"},{default:s(()=>[t(L,{modelValue:b.instrument_id,"onUpdate:modelValue":e[2]||(e[2]=a=>b.instrument_id=a),placeholder:"全部仪器",clearable:"",filterable:""},{default:s(()=>[(z(!0),F(ee,null,te(j.value,a=>(z(),N(v,{key:a.instrument_id,label:`${a.instrument_id} (${a.type_name})`,value:a.instrument_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(y,null,{default:s(()=>[t(o,{type:"primary",onClick:ze},{default:s(()=>[...e[46]||(e[46]=[i("查询",-1)])]),_:1}),t(o,{onClick:ke},{default:s(()=>[...e[47]||(e[47]=[i("重置",-1)])]),_:1})]),_:1})]),_:1})]),Ke((z(),N(X,{data:se.value,height:"500",style:{width:"100%"},size:"small"},{default:s(()=>[t(f,{prop:"id",label:"ID",width:"80"}),t(f,{prop:"type_name",label:"监测类型",width:"120"}),t(f,{prop:"instrument_id",label:"仪器编号",width:"120"}),t(f,{prop:"measure_time",label:"测量时间",width:"180"}),t(f,{prop:"value",label:"测量值",width:"120"},{default:s(({row:a})=>[i(M(a.value.toFixed(2))+" "+M(a.unit),1)]),_:1}),t(f,{prop:"water_level",label:"水位值",width:"120"},{default:s(({row:a})=>[i(M(a.water_level?a.water_level.toFixed(2):"--"),1)]),_:1}),t(f,{label:"操作",width:"200",fixed:"right"},{default:s(({row:a})=>[t(o,{size:"small",onClick:Z=>Me(a)},{default:s(()=>[...e[48]||(e[48]=[i("编辑",-1)])]),_:1},8,["onClick"]),t(oe,{title:"确定删除这条记录吗？",onConfirm:Z=>Fe(a.id)},{reference:s(()=>[t(o,{size:"small",type:"danger"},{default:s(()=>[...e[49]||(e[49]=[i("删除",-1)])]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1},8,["data"])),[[Oe,P.value]]),l("div",Bt,[t(Re,{"current-page":_.current,"onUpdate:currentPage":e[3]||(e[3]=a=>_.current=a),"page-size":_.size,"onUpdate:pageSize":e[4]||(e[4]=a=>_.size=a),total:_.total,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:xe,onCurrentChange:Ue},null,8,["current-page","page-size","total"])])])):O("",!0),S.value==="instruments"?(z(),F("div",Ot,[l("div",Nt,[e[52]||(e[52]=l("h2",null,"仪器管理",-1)),l("div",Yt,[t(o,{size:"small",onClick:Ve},{default:s(()=>[t(h,null,{default:s(()=>[...e[50]||(e[50]=[l("i",{class:"el-icon-refresh"},null,-1)])]),_:1}),e[51]||(e[51]=i(" 刷新 ",-1))]),_:1})])]),t(X,{data:j.value,height:"600",style:{width:"100%"},size:"small"},{default:s(()=>[t(f,{prop:"instrument_id",label:"仪器编号",width:"150"}),t(f,{prop:"type_name",label:"监测类型",width:"150"}),t(f,{label:"操作",width:"150",fixed:"right"},{default:s(({row:a})=>[t(o,{size:"small",onClick:Z=>De(a)},{default:s(()=>[...e[53]||(e[53]=[i("查看数据",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])])):O("",!0),S.value==="users"?(z(),F("div",jt,[l("div",Pt,[e[58]||(e[58]=l("h2",null,"用户管理",-1)),l("div",Gt,[t(o,{type:"primary",size:"small",onClick:Ee},{default:s(()=>[t(h,null,{default:s(()=>[...e[54]||(e[54]=[l("i",{class:"el-icon-plus"},null,-1)])]),_:1}),e[55]||(e[55]=i(" 新增用户 ",-1))]),_:1}),t(o,{size:"small",onClick:Ae},{default:s(()=>[t(h,null,{default:s(()=>[...e[56]||(e[56]=[l("i",{class:"el-icon-refresh"},null,-1)])]),_:1}),e[57]||(e[57]=i(" 刷新 ",-1))]),_:1})])]),t(X,{data:ae.value,height:"600",style:{width:"100%"},size:"small"},{default:s(()=>[t(f,{prop:"username",label:"用户名",width:"150"}),t(f,{prop:"name",label:"姓名",width:"150"}),t(f,{prop:"email",label:"邮箱",width:"200"}),t(f,{prop:"role",label:"角色",width:"120"},{default:s(({row:a})=>[t(Te,{type:a.role==="admin"?"danger":"success",size:"small"},{default:s(()=>[i(M(a.role==="admin"?"管理员":"普通用户"),1)]),_:2},1032,["type"])]),_:1}),t(f,{label:"操作",width:"200",fixed:"right"},{default:s(({row:a})=>[t(oe,{title:"确定删除这个用户吗？",onConfirm:Z=>qe(a.id)},{reference:s(()=>[t(o,{size:"small",type:"danger"},{default:s(()=>[...e[59]||(e[59]=[i("删除",-1)])]),_:1})]),_:1},8,["onConfirm"])]),_:1})]),_:1},8,["data"])])):O("",!0)])]),t(de,{modelValue:m.visible,"onUpdate:modelValue":e[11]||(e[11]=a=>m.visible=a),title:m.title,width:"500px"},{footer:s(()=>[t(o,{onClick:e[10]||(e[10]=a=>m.visible=!1)},{default:s(()=>[...e[60]||(e[60]=[i("取消",-1)])]),_:1}),t(o,{type:"primary",onClick:Se,loading:m.loading},{default:s(()=>[...e[61]||(e[61]=[i(" 保存 ",-1)])]),_:1},8,["loading"])]),default:s(()=>[t(Q,{model:d,rules:_e,ref_key:"measurementFormRef",ref:K,"label-width":"100px"},{default:s(()=>[t(y,{label:"监测类型",prop:"type_id"},{default:s(()=>[t(L,{modelValue:d.type_id,"onUpdate:modelValue":e[5]||(e[5]=a=>d.type_id=a),placeholder:"请选择监测类型",style:{width:"100%"}},{default:s(()=>[(z(!0),F(ee,null,te(Y.value,a=>(z(),N(v,{key:a.id,label:a.name,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),t(y,{label:"仪器编号",prop:"instrument_id"},{default:s(()=>[t(q,{modelValue:d.instrument_id,"onUpdate:modelValue":e[6]||(e[6]=a=>d.instrument_id=a),placeholder:"请输入仪器编号"},null,8,["modelValue"])]),_:1}),t(y,{label:"测量时间",prop:"measure_time"},{default:s(()=>[t(Be,{modelValue:d.measure_time,"onUpdate:modelValue":e[7]||(e[7]=a=>d.measure_time=a),type:"datetime",placeholder:"选择测量时间",style:{width:"100%"},"value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue"])]),_:1}),t(y,{label:"测量值",prop:"value"},{default:s(()=>[t(ie,{modelValue:d.value,"onUpdate:modelValue":e[8]||(e[8]=a=>d.value=a),precision:2,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),t(y,{label:"水位值"},{default:s(()=>[t(ie,{modelValue:d.water_level,"onUpdate:modelValue":e[9]||(e[9]=a=>d.water_level=a),precision:2,step:.01,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),t(de,{modelValue:w.visible,"onUpdate:modelValue":e[18]||(e[18]=a=>w.visible=a),title:w.title,width:"500px"},{footer:s(()=>[t(o,{onClick:e[17]||(e[17]=a=>w.visible=!1)},{default:s(()=>[...e[62]||(e[62]=[i("取消",-1)])]),_:1}),t(o,{type:"primary",onClick:Le,loading:w.loading},{default:s(()=>[...e[63]||(e[63]=[i(" 保存 ",-1)])]),_:1},8,["loading"])]),default:s(()=>[t(Q,{model:c,rules:fe,ref_key:"userFormRef",ref:G,"label-width":"100px"},{default:s(()=>[t(y,{label:"用户名",prop:"username"},{default:s(()=>[t(q,{modelValue:c.username,"onUpdate:modelValue":e[12]||(e[12]=a=>c.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),t(y,{label:"密码",prop:"password"},{default:s(()=>[t(q,{modelValue:c.password,"onUpdate:modelValue":e[13]||(e[13]=a=>c.password=a),type:"password",placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),t(y,{label:"姓名",prop:"name"},{default:s(()=>[t(q,{modelValue:c.name,"onUpdate:modelValue":e[14]||(e[14]=a=>c.name=a),placeholder:"请输入姓名"},null,8,["modelValue"])]),_:1}),t(y,{label:"邮箱",prop:"email"},{default:s(()=>[t(q,{modelValue:c.email,"onUpdate:modelValue":e[15]||(e[15]=a=>c.email=a),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),t(y,{label:"角色",prop:"role"},{default:s(()=>[t(L,{modelValue:c.role,"onUpdate:modelValue":e[16]||(e[16]=a=>c.role=a),placeholder:"请选择角色",style:{width:"100%"}},{default:s(()=>[t(v,{label:"管理员",value:"admin"}),t(v,{label:"普通用户",value:"user"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},Xt=rt(Ht,[["__scopeId","data-v-8f862a1b"]]);export{Xt as default};
